<!-- BEGIN PAGE HEADER-->
<div class="page-bar">
    <ul class="page-breadcrumb">
        <li>
            <a ui-sref="dashboard">Home</a>
            <i class="fa fa-circle"></i>
        </li>
        <li>
            <a ui-sref="dashboard">Dashboard</a>
        </li>
    </ul>
</div>

<h3 class="page-title"> Staff Member </h3>


<!-- END PAGE HEADER-->
<!-- BEGIN MAIN CONTENT -->
<div ng-controller="StaffMemberController">

    <link href="~/Content/basic.css" rel="stylesheet" />
    <link href="~/Content/dropzone.css" rel="stylesheet" />
    <script src="~/Scripts/dropzone.js"></script>
    
    <div class="form-group">
        <button type="button" ng-click="modalStaffMember()" class="btn green">Add Staff Member</button>
    </div>

    <table datatable="ng" class="table table-bordered table-hover">
        <thead>
            <tr>
                <th>Name</th>
                <th>Email</th>
                <th>Mobile Number</th>
                <th>Country</th>
                <th>State</th>
                <th>City</th>
                <th>Zip Code</th>
                <th>Action</th>
            </tr>
        </thead>
        <tbody>
            <tr ng-repeat="a in staffmembers">
                <td>{{a.FirstName}} {{a.LastName}}</td>
                <td>{{a.Email}}</td>
                <td>{{a.MobileNumber}}</td>
                <td>{{a.Country}}</td>
                <td>{{a.State}}</td>
                <td>{{a.City}}</td>
                <td>{{a.ZipCode}}</td>
                <td>
                    <a ng-click="modalStaffMember(a)">Edit</a>
                    <a ng-click="deleteStaffMember(a.UserId)">Delete</a>
                </td>
            </tr>
        </tbody>
    </table>

    <form id="formStaffMember" name="myForm" enctype="multipart/form-data">
        <div class="modal fade" tabindex="-1" role="dialog" id="modal-StaffMember">
            <div class="modal-dialog modal-lg" role="document">
                <div class="modal-content">
                    <div class="modal-header">
                        <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
                        <h4 class="modal-title">Staff Member</h4>
                    </div>
                    <div class="modal-body">
                        <div class="row">
                            <div class="col-md-12">
                                <div class="form-body">
                                    <div class="row">
                                        <div class="col-md-6">
                                            <div class="form-group">
                                                <label class="control-label">First Name</label>
                                                <input type="text" ng-model="staffmember.FirstName" name="FirstName" class="form-control" required>
                                                <span style="color:red" ng-show="myForm.FirstName.$dirty && myForm.FirstName.$invalid"></span>
                                            </div>
                                        </div>
                                        <div class="col-md-6">
                                            <div class="form-group">
                                                <label class="control-label">Last Name</label>
                                                <input type="text" ng-model="staffmember.LastName" name="LastName" class="form-control" required>
                                                <span style="color:red" ng-show="myForm.LastName.$dirty && myForm.LastName.$invalid"></span>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="row">
                                        <div class="col-md-6">
                                            <div class="form-group">
                                                <label class="control-label">Email</label>
                                                <input type="email" ng-model="staffmember.Email" id="Email" name="Email" class="form-control" required>
                                                <span style="color:red" ng-show="myForm.Email.$dirty && myForm.Email.$invalid"></span>
                                            </div>
                                        </div>
                                        <div class="col-md-6">
                                            <div class="form-group">
                                                <label class="control-label">Mobile Number</label>
                                                <input type="text" ng-model="staffmember.MobileNumber" id="MobileNumber" name="MobileNumber" class="form-control" required>
                                                <span style="color:red" ng-show="myForm.MobileNumber.$dirty && myForm.MobileNumber.$invalid"></span>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="row">                                      
                                        <div class="col-md-6">
                                            <div class="form-group">
                                                <label class="control-label">Address</label>
                                                <textarea ng-model="staffmember.Address" name="Address" class="form-control" required></textarea>
                                                <span style="color:red" ng-show="myForm.Address.$dirty && myForm.Address.$invalid"></span> 
                                            </div>
                                        </div>
                                        <div class="col-md-6">
                                            <div class="form-group">
                                                <label class="control-label">Country</label>
                                                <input type="text" ng-model="staffmember.Country" name="Country" class="form-control" required>
                                                <span style="color:red" ng-show="myForm.Country.$dirty && myForm.Country.$invalid"> </span>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="row">                                      
                                        <div class="col-md-6">
                                            <div class="form-group">
                                                <label class="control-label">State</label>
                                                <input type="text" ng-model="staffmember.State" name="State" class="form-control" required>
                                                <span style="color:red" ng-show="myForm.State.$dirty && myForm.State.$invalid"></span>    
                                            </div>
                                        </div>
                                        <div class="col-md-6">
                                            <div class="form-group">
                                                <label class="control-label">City</label>
                                                <input type="text" ng-model="staffmember.City" name="City" class="form-control" required>
                                                <span style="color:red" ng-show="myForm.City.$dirty && myForm.City.$invalid"></span>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="row">                                     
                                        <div class="col-md-6">
                                            <div class="form-group">
                                                <label class="control-label">Zip Code</label>
                                                <input type="text" ng-model="staffmember.ZipCode" name="ZipCode" class="form-control" required>
                                                <span style="color:red" ng-show="myForm.ZipCode.$dirty && myForm.ZipCode.$invalid"></span> 
                                            </div>
                                        </div>
                                        <div class="col-md-6">
                                            <div class="form-group">
                                                <label class="control-label">Upload File</label>
                                                @*<input name="FilePath" id="file" type="file" class="form-control" />*@
                                                <input type="file" name="file" id="file" accept="image/*" onchange="angular.element(this).scope().selectFileforUpload(this.files)" />                                              
                                            </div>
                                        </div>
                                    </div>                                                                 
                        </div>
                    </div>
                        </div>
                    </div>
                    <div class="modal-footer">
                        <button type="button" onclick="cancel()" class="btn btn-default">Cancel</button>
                        <button type="button" ng-click="saveStaffMember(formStaffMember)" class="btn green">Save</button>
                    </div>
                </div><!-- /.modal-content -->
            </div><!-- /.modal-dialog -->
        </div><!-- /.modal -->
    </form>
</div>
<!-- END MAIN CONTENT -->
<!-- BEGIN MAIN JS & CSS -->
<script>
    function cancel()
    {
        $("#modal-StaffMember").modal("hide");
    } 
</script>
<!-- BEGIN MAIN JS & CSS -->
